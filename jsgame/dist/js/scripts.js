document.addEventListener("DOMContentLoaded",function(){function e(){var e=0,n=document.querySelector(".loading-text");S=setInterval(function(){4>=e?(n.innerHTML+=" .",e++):(e=0,n.innerHTML="")},500)}function n(){var e;e=new XMLHttpRequest,e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE)if(200==e.status){var n=JSON.parse(e.response);t(n),o(n.SYM)}else alert(400==e.status?"There was an error 400":"something else other than 200 was returned")},e.open("GET","data.json",!0),e.send()}function t(e){function n(e,n){return e.img=new Image,e.img.src=e.path,e.img.name=e.name,e.img.order=e.id,e.img.addEventListener("load",function(){n(e.img)},!1),e.img}function t(){if(c&&u&&s&&w){b.drawImage(g,q,B,X,H);var e=l(0,6);b.beginPath(),b.rect(Y,C,_,N),b.fillStyle="black",b.fill(),b.lineWidth=0,b.strokeStyle="black",b.stroke(),b.drawImage(I[e],Y,C,_,N),setTimeout(function(){clearInterval(S),document.querySelector(".loading").style.display="none"},2e3),h.addEventListener("click",d,!1)}}for(var o=e.SYM,r=0,a=0;a<o.length;a++){var i=o[a];n(i,function(e){I[e.order]=e,E[e.order]=e.name,3==r?(w=!0,t()):r++})}var c=!1,u=!1,s=!1;f=n(e.BG,function(){b.drawImage(f,0,0,L,M),s=!0,t()}),g=n(e.BTN_Spin,function(){c=!0,t()}),v=n(e.BTN_Spin_d,function(){u=!0,t()})}function o(e){for(var n=0;n<e.length;n++){var t=document.createElement("option");t.value=e[n].name,t.innerHTML=e[n].name,T.appendChild(t)}k=!0}function l(e,n){return Math.floor(Math.random()*(n-e))+e}function r(){var e=T.value,n=l(5,10);document.body.style.pointerEvents="none";var t=setInterval(function(){u(l(0,5))},300);setTimeout(function(){clearInterval(t);var n=setInterval(function(){u(l(0,5))},700);setTimeout(function(){clearInterval(n),p=y,console.log(p),a(e),document.body.style.pointerEvents="all"},3500)},1e3*n)}function a(e){p==e?i():c()}function i(){console.log("win"),document.querySelector(".win").style.display="block",setTimeout(function(){document.querySelector(".win").style.display="none"},3e3)}function c(){console.log("lose"),document.querySelector(".lose").style.display="block",setTimeout(function(){document.querySelector(".lose").style.display="none"},3e3)}function u(e){b.beginPath(),b.rect(Y,C,_,N),b.fillStyle="black",b.fill(),b.lineWidth=0,b.strokeStyle="black",b.stroke(),b.drawImage(I[e],Y,C,_,N),y=I[e].name}function d(e){var n=s(e);n[0]>=q&&n[0]<=q+X&&n[1]>=B&&n[1]<=B+H&&r()}function s(e){var n,t,o=h.getBoundingClientRect();return void 0!=e.pageX&&void 0!=e.pageY?(n=e.pageX,t=e.pageY):(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),n-=o.left,t-=o.top,[n,t]}function m(){n(),e()}var f,g,v,y,p,S,h=document.getElementById("game"),T=document.getElementById("select_box"),b=h.getContext("2d"),I=[],E=[],k=!1,w=!1,L=568,M=320,q=483,B=125,H=70,X=70,Y=182,C=110,N=93,_=140;m()});